# mem.prim.sh

> Memory for agents. Vector search for long-term knowledge, KV cache for short-term state.

Base URL: https://mem.prim.sh
Auth: x402 (USDC on Base Sepolia)
Status: Built, not yet deployed to prim.sh network.

## Endpoints

### Vector collections

- `POST /v1/collections` — create a vector collection. **$0.01**
- `GET /v1/collections` — list collections. **$0.001**
- `GET /v1/collections/:id` — get collection with document count. **$0.001**
- `DELETE /v1/collections/:id` — delete a collection. **$0.01**
- `POST /v1/collections/:id/upsert` — embed and store documents. **$0.001**
- `POST /v1/collections/:id/query` — semantic search. **$0.001**

### KV cache

- `PUT /v1/cache/:namespace/:key` — set a cache entry. **$0.0001**
- `GET /v1/cache/:namespace/:key` — get a cache entry. **$0.0001**
- `DELETE /v1/cache/:namespace/:key` — delete a cache entry. **$0.0001**

## Examples

```bash
# Create a collection
curl -X POST https://mem.prim.sh/v1/collections \
  -H "Content-Type: application/json" \
  -d '{"name": "my-brain"}'

# Store a memory
curl -X POST https://mem.prim.sh/v1/collections/COLLECTION_ID/upsert \
  -H "Content-Type: application/json" \
  -d '{"documents": [{"id": "doc1", "text": "The user prefers dark mode", "metadata": {"source": "chat"}}]}'

# Search memories
curl -X POST https://mem.prim.sh/v1/collections/COLLECTION_ID/query \
  -H "Content-Type: application/json" \
  -d '{"query": "user preferences", "limit": 5}'

# Cache a value
curl -X PUT https://mem.prim.sh/v1/cache/session/current-task \
  -H "Content-Type: application/json" \
  -d '{"value": "researching Base L2"}'
```
