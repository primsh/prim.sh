# email.prim.sh

> Email for agents. Create mailboxes, send and receive mail, get notified via webhooks.

Base URL: https://email.prim.sh
Auth: x402 (USDC on Base Sepolia)
Status: Built, not yet deployed to prim.sh network.

## Endpoints

### Mailboxes

- `POST /v1/mailboxes` — create a mailbox (permanent or with TTL).
- `GET /v1/mailboxes` — list mailboxes.
- `GET /v1/mailboxes/:id` — get mailbox metadata.
- `DELETE /v1/mailboxes/:id` — delete a mailbox.

### Messages

- `POST /v1/mailboxes/:id/send` — send an email.
- `GET /v1/mailboxes/:id/messages` — list received messages.
- `GET /v1/messages/:id` — fetch a single message.

### Webhooks

- `POST /v1/webhooks` — register an incoming message webhook (HMAC-signed delivery).
- `GET /v1/webhooks` — list webhooks.
- `DELETE /v1/webhooks/:id` — delete a webhook.

## Examples

```bash
# Create a permanent mailbox with custom username
curl -X POST https://email.prim.sh/v1/mailboxes \
  -H "Content-Type: application/json" \
  -d '{"username": "my-agent", "domain": "email.prim.sh"}'

# Send an email
curl -X POST https://email.prim.sh/v1/mailboxes/MBX_ID/send \
  -H "Content-Type: application/json" \
  -d '{"to": "[email protected]", "subject": "Hello", "body": "Hello from my agent"}'

# Register a webhook for incoming mail
curl -X POST https://email.prim.sh/v1/webhooks \
  -H "Content-Type: application/json" \
  -d '{"mailbox_id": "MBX_ID", "url": "https://my-agent.example/inbox", "secret": "webhook-secret"}'
```
