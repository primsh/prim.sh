{
  "sections": [
    {
      "id": "HRD",
      "title": "Hardening",
      "waves": [
        {
          "id": "HRD-W1",
          "title": "Open-Source Readiness",
          "parallelism": "PARA",
          "phases": [
            {
              "id": "HRD-W1-PA",
              "title": "Service Layer + Middleware",
              "parallelism": "SRL",
              "tasks": [
                {
                  "id": "HRD-3",
                  "description": "Expand wallet smoke test to 5-check contract (match `track/test/smoke.test.ts`)",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [],
                  "status": "done",
                  "release": "v1.0.0"
                },
                {
                  "id": "HRD-4",
                  "description": "Add try-catch around `JSON.parse` calls in service layers (wallet, email, store).",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [
                    "HRD-3"
                  ],
                  "status": "done",
                  "release": "v1.0.0",
                  "plan": "tasks/completed/hrd-4-json-parse-safety.md"
                },
                {
                  "id": "HRD-8",
                  "description": "Standardize pagination: define shared response shape across all list endpoints.",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [
                    "HRD-4"
                  ],
                  "status": "done",
                  "release": "v1.0.0",
                  "plan": "tasks/completed/hrd-8-pagination-standard.md"
                },
                {
                  "id": "HRD-10",
                  "description": "Add per-wallet rate limiting to x402-middleware (configurable, default 60/min).",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [
                    "HRD-8"
                  ],
                  "status": "done",
                  "release": "v1.0.0",
                  "plan": "tasks/completed/hrd-10-rate-limiting.md"
                }
              ]
            },
            {
              "id": "HRD-W1-PB",
              "title": "Wallet DB Fixes",
              "parallelism": "PARA",
              "tasks": [
                {
                  "id": "HRD-2",
                  "description": "Fix `allowlist-db.ts` DB handle leak: use singleton pattern from `wallet/db.ts`",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [],
                  "status": "done",
                  "release": "v1.0.0"
                },
                {
                  "id": "HRD-5",
                  "description": "Fix `setUTCHours(24)` in `wallet/src/db.ts` — use explicit date arithmetic",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [],
                  "status": "done",
                  "release": "v1.0.0"
                }
              ]
            },
            {
              "id": "HRD-W1-PC",
              "title": "Repo-Level Hygiene",
              "parallelism": "PARA",
              "tasks": [
                {
                  "id": "HRD-1",
                  "description": "Remove `*.db` + `server.log` from repo; scrub `.env.email` from git history",
                  "owner": [
                    "Garric"
                  ],
                  "depends": [],
                  "status": "done",
                  "release": "v1.0.0"
                },
                {
                  "id": "HRD-6",
                  "description": "Create `SECURITY.md` (referenced by CONTRIBUTING.md but missing)",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [],
                  "status": "done",
                  "release": "v1.0.0"
                },
                {
                  "id": "HRD-7",
                  "description": "Add `pnpm -r lint` + `pnpm -r typecheck` to `.github/workflows/ci.yml`",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [],
                  "status": "done",
                  "release": "v1.0.0"
                },
                {
                  "id": "HRD-9",
                  "description": "Add per-package `README.md` (purpose, install, API summary)",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [],
                  "status": "done",
                  "release": "v1.0.0"
                },
                {
                  "id": "HRD-20",
                  "description": "Scrub sensitive data: VPS IP from runbook, treasury wallet from plan doc, personal emails from completed task, infra details from CLAUDE.md",
                  "owner": [
                    "Garric"
                  ],
                  "depends": [],
                  "status": "done",
                  "release": "v1.0.0"
                },
                {
                  "id": "HRD-21",
                  "description": "Add package.json metadata (description, repository, license, author, keywords) to all packages",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [],
                  "status": "done",
                  "release": "v1.0.0"
                }
              ]
            }
          ]
        },
        {
          "id": "HRD-W2",
          "title": "Code Quality",
          "parallelism": "SRL",
          "phases": [
            {
              "id": "HRD-W2-PA",
              "title": "Error Handling & Config",
              "parallelism": "SRL",
              "tasks": [
                {
                  "id": "HRD-11",
                  "description": "Replace silent catch blocks with logger.warn() across all handlers (~7 files, ~30 catch blocks)",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [],
                  "status": "done",
                  "release": "v1.0.0"
                },
                {
                  "id": "HRD-12",
                  "description": "Fail-fast on missing PRIM_PAY_TO — zero-address fallback → startup crash with clear error message",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [
                    "HRD-11"
                  ],
                  "status": "done",
                  "release": "v1.0.0"
                }
              ]
            },
            {
              "id": "HRD-W2-PB",
              "title": "API Surface Consistency",
              "parallelism": "SRL",
              "tasks": [
                {
                  "id": "HRD-13",
                  "description": "Extract shared error helpers (forbidden, notFound, invalidRequest, serviceError) into @primsh/x402-middleware",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [
                    "HRD-12"
                  ],
                  "status": "done",
                  "release": "v1.0.0"
                },
                {
                  "id": "HRD-14",
                  "description": "Normalize all API response fields to snake_case (created_at not createdAt) across api.ts + service.ts",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [
                    "HRD-13"
                  ],
                  "status": "done",
                  "release": "v1.0.0"
                },
                {
                  "id": "HRD-22",
                  "description": "Consistent verb-position convention in api.ts interface names: standardize Create*/Register*/Set* prefix ordering across all 10 prims (e.g. CreateServerRequest not ServerCreateRequest)",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [
                    "HRD-14"
                  ],
                  "status": "pending",
                  "release": null
                }
              ]
            },
            {
              "id": "HRD-W2-PC",
              "title": "Test Backfill",
              "parallelism": "PARA",
              "tasks": [
                {
                  "id": "HRD-17",
                  "description": "Backfill spawn/test/smoke.test.ts to 5-check contract (currently only 2 assertions)",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [
                    "HRD-14"
                  ],
                  "status": "done",
                  "release": "v1.0.0"
                },
                {
                  "id": "HRD-18",
                  "description": "Add email/test/smoke.test.ts with 5-check contract (currently missing)",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [
                    "HRD-14"
                  ],
                  "status": "done",
                  "release": "v1.0.0"
                },
                {
                  "id": "HRD-19",
                  "description": "Fix token test mock typing — replace vi.fn<any[], any>() biome-ignore with properly typed mocks",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [
                    "HRD-14"
                  ],
                  "status": "done",
                  "release": "v1.0.0"
                },
                {
                  "id": "HRD-26",
                  "description": "Add packages/mcp/test/smoke.test.ts — zero tests on 14-source-file MCP server package",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [],
                  "status": "done",
                  "release": null
                }
              ]
            },
            {
              "id": "HRD-W2-PD",
              "title": "Validation & Pagination",
              "parallelism": "SRL",
              "tasks": [
                {
                  "id": "HRD-15",
                  "description": "Fix pagination cursor/page inconsistency — email treats cursor as numeric offset, wallet as string",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [],
                  "status": "pending",
                  "release": null
                },
                {
                  "id": "HRD-16",
                  "description": "Add Zod schemas for request body validation — replace bare c.req.json<T>() with z.parse()",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [
                    "HRD-15"
                  ],
                  "status": "pending",
                  "release": null
                }
              ]
            }
          ]
        },
        {
          "id": "HRD-W3",
          "title": "Pre-Public Audit Fixes",
          "parallelism": "PARA",
          "phases": [
            {
              "id": "HRD-W3-PA",
              "title": "Repo Scrub",
              "tasks": [
                {
                  "id": "HRD-23",
                  "description": "Final repo scrub: .gitignore (generated/, timestamps), delete orig assets, remove ops docs, scrub residual VPS IPs, exclude internal scripts",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [],
                  "status": "done",
                  "release": "v1.0.0",
                  "plan": "tasks/completed/hrd-23-repo-scrub.md"
                }
              ]
            },
            {
              "id": "HRD-W3-PB",
              "title": "Test Coverage Gaps",
              "parallelism": "PARA",
              "tasks": [
                {
                  "id": "HRD-26",
                  "description": "Add packages/mcp/test/smoke.test.ts — zero tests on 14-source-file MCP server package",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [],
                  "status": "done",
                  "release": null,
                  "plan": "tasks/active/hrd-26-mcp-smoke-tests.md"
                },
                {
                  "id": "HRD-27",
                  "description": "Backfill search/test/smoke.test.ts to 5-check contract (currently 12 lines)",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [],
                  "status": "done",
                  "release": null
                },
                {
                  "id": "HRD-28",
                  "description": "Backfill domain/test/smoke.test.ts to 5-check contract (currently 37 lines)",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [],
                  "status": "done",
                  "release": null
                },
                {
                  "id": "HRD-29",
                  "description": "Backfill store/test/smoke.test.ts to 5-check contract (currently 49 lines)",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [],
                  "status": "done",
                  "release": null
                }
              ]
            },
            {
              "id": "HRD-W3-PC",
              "title": "Code Cleanup",
              "parallelism": "PARA",
              "tasks": [
                {
                  "id": "HRD-30",
                  "description": "Replace residual console.warn() → structured logger in wallet/src/service.ts + email/src/service.ts (HRD-11 residual)",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [],
                  "status": "done",
                  "release": null,
                  "plan": "tasks/active/hrd-30-console-warn-to-logger.md"
                },
                {
                  "id": "HRD-31",
                  "description": "Extract shared CLI error handler in keystore/src/cli.ts (11 identical try-catch blocks)",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [],
                  "status": "done",
                  "release": null
                }
              ]
            }
          ]
        }
      ],
      "description": "Code quality, security, and reliability fixes from open-source readiness review."
    },
    {
      "id": "PRIMS",
      "title": "Primitives",
      "waves": [
        {
          "id": "PRIMS-W1",
          "title": "store.sh",
          "parallelism": "PARA",
          "tasks": [
            {
              "id": "ST-7",
              "description": "Presigned URLs (GET + PUT): time-limited signed R2 URLs for direct agent access",
              "owner": [
                "Claude"
              ],
              "depends": [],
              "status": "pending",
              "release": null
            },
            {
              "id": "ST-8",
              "description": "Public buckets: per-bucket public-read flag, stable object URLs",
              "owner": [
                "Claude"
              ],
              "depends": [],
              "status": "pending",
              "release": null
            },
            {
              "id": "ST-9",
              "description": "Multipart upload: S3 multipart API for objects >5MB",
              "owner": [
                "Claude"
              ],
              "depends": [],
              "status": "pending",
              "release": null
            },
            {
              "id": "ST-10",
              "description": "Object copy: within or between owned buckets",
              "owner": [
                "Claude"
              ],
              "depends": [],
              "status": "pending",
              "release": null
            },
            {
              "id": "ST-11",
              "description": "Lifecycle rules: per-bucket auto-expiry policies",
              "owner": [
                "Claude"
              ],
              "depends": [],
              "status": "pending",
              "release": null
            },
            {
              "id": "ST-12",
              "description": "Bucket event webhooks: HMAC-signed callbacks on create/delete",
              "owner": [
                "Claude"
              ],
              "depends": [],
              "status": "pending",
              "release": null
            },
            {
              "id": "ST-13",
              "description": "Object metadata + tagging: custom key-value metadata",
              "owner": [
                "Claude"
              ],
              "depends": [],
              "status": "pending",
              "release": null
            }
          ]
        },
        {
          "id": "PRIMS-W2",
          "title": "email.sh",
          "parallelism": "SRL",
          "tasks": [
            {
              "id": "E-4",
              "description": "Domain warmup: send low-volume emails to engaged recipients, ramp over weeks",
              "owner": [
                "Claude"
              ],
              "depends": [],
              "status": "pending",
              "release": null
            },
            {
              "id": "E-5",
              "description": "Verify Gmail inbox delivery (not spam) after warmup + PTR + DMARC changes",
              "owner": [
                "Claude"
              ],
              "depends": [
                "E-4"
              ],
              "status": "pending",
              "release": null
            },
            {
              "id": "E-6",
              "description": "Verify Apple Mail / iCloud delivery after warmup",
              "owner": [
                "Claude"
              ],
              "depends": [
                "E-4"
              ],
              "status": "pending",
              "release": null
            },
            {
              "id": "E-7",
              "description": "Upgrade DMARC back to `p=quarantine` once inbox delivery is consistent",
              "owner": [
                "Claude"
              ],
              "depends": [
                "E-5",
                "E-6"
              ],
              "status": "pending",
              "release": null
            }
          ]
        },
        {
          "id": "PRIMS-W3",
          "title": "spawn.sh",
          "tasks": [
            {
              "id": "SP-7",
              "description": "DockerProvider: Docker container tier as default (10–50x cheaper than VMs).",
              "owner": [
                "Claude"
              ],
              "depends": [],
              "status": "pending",
              "release": null,
              "plan": "tasks/active/sp-7-docker-provider-2026-02-26.md"
            }
          ]
        },
        {
          "id": "PRIMS-W4",
          "title": "track.sh",
          "tasks": [
            {
              "id": "TR-2",
              "description": "Smoke test + deploy: live Shippo call, systemd unit, Caddy route, DNS, env vars",
              "owner": [
                "Claude",
                "Garric"
              ],
              "depends": [],
              "status": "pending",
              "release": null
            }
          ]
        },
        {
          "id": "PRIMS-W5",
          "title": "$PRIM Token",
          "parallelism": "SRL",
          "tasks": [
            {
              "id": "L-27",
              "description": "**DO FIRST.** Deploy $PRIM ERC-20 to Base mainnet. Register ticker on BaseScan. 100% supply to treasury wallet. Pool deferred",
              "owner": [
                "Garric"
              ],
              "depends": [],
              "status": "pending",
              "release": "v1.0.0"
            },
            {
              "id": "PRIM-2",
              "description": "$PRIM utility design: fee discounts, governance, access tiers, revenue share. Design doc only.",
              "owner": [
                "Garric",
                "Claude"
              ],
              "depends": [
                "L-27"
              ],
              "status": "pending",
              "release": "v1.0.0",
              "plan": "tasks/active/prim-2-token-utility-2026-02-26.md"
            }
          ]
        }
      ],
      "description": "Feature work on specific services."
    },
    {
      "id": "INFRA",
      "title": "Infrastructure",
      "waves": [
        {
          "id": "INFRA-W1",
          "title": "Tooling",
          "parallelism": "PARA",
          "phases": [
            {
              "id": "INFRA-W1-PA",
              "title": "CI Pipeline",
              "parallelism": "SRL",
              "tasks": [
                {
                  "id": "I-4",
                  "description": "Parallelize CI: split into concurrent jobs (setup → lint|typecheck|test|gen-check PARA), add concurrency + bun cache",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [],
                  "status": "pending",
                  "release": null,
                  "plan": "tasks/active/i-4-ci-parallel-2026-02-26.md"
                },
                {
                  "id": "I-3",
                  "description": "CI OpenAPI spec validation — check that spec response shapes match PaginatedList<T> and error envelopes at build time",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [
                    "I-4"
                  ],
                  "status": "pending",
                  "release": null,
                  "plan": "tasks/active/i-3-coverage-gate-2026-02-26.md"
                }
              ]
            },
            {
              "id": "INFRA-W1-PB",
              "title": "GitHub Automation",
              "parallelism": "PARA",
              "tasks": [
                {
                  "id": "L-29",
                  "description": "GH Action: auto-dedupe issues, stale auto-close (30d), bot PR auto-merge if CI passes",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [],
                  "status": "pending",
                  "release": null,
                  "plan": "tasks/active/l-29-gh-automation-2026-02-26.md"
                },
                {
                  "id": "OPS-5",
                  "description": "GHA deploy pipeline: SSH deploy key (restricted to deploy.sh) + .github/workflows/deploy.yml (check → rsync → restart). Replaces manual sync:vps for prod.",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [],
                  "status": "pending",
                  "release": null,
                  "plan": "tasks/active/ops-5-gha-deploy-2026-02-26.md"
                }
              ]
            },
            {
              "id": "INFRA-W1-PC",
              "title": "Quality & Security",
              "parallelism": "PARA",
              "tasks": [
                {
                  "id": "OPS-4",
                  "description": "Load test baseline: k6 against health + store CRUD, document capacity thresholds",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [],
                  "status": "pending",
                  "release": null,
                  "plan": "tasks/active/ops-4-load-test-2026-02-26.md"
                },
                {
                  "id": "SEC-1a",
                  "description": "Add `.gitleaks.toml` + pre-commit hook to block new secrets from landing. Non-destructive, no stop-the-world.",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [],
                  "status": "pending",
                  "release": "v1.0.0"
                },
                {
                  "id": "SEC-1b",
                  "description": "Run `gitleaks detect --log-opts=\"--all\"` on full history. Triage findings as true/false positives. Read-only.",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [
                    "SEC-1a"
                  ],
                  "status": "pending",
                  "release": "v1.0.0"
                },
                {
                  "id": "SEC-1c",
                  "description": "If true positives found: rotate active secrets, rewrite history with BFG/filter-repo, force push, all collaborators re-clone.",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [
                    "SEC-1b"
                  ],
                  "status": "pending",
                  "release": "v1.0.0",
                  "plan": "tasks/active/sec-1-git-secrets-audit-2026-02-26.md"
                }
              ]
            },
            {
              "id": "INFRA-W1-PD",
              "title": "Internal Tooling",
              "parallelism": "SRL",
              "tasks": [
                {
                  "id": "I-2",
                  "description": "Migrate TASKS.md → tasks.json: define schema, convert data, update launch-status.ts + docs, optional TASKS.md codegen.",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [],
                  "status": "pending",
                  "release": null,
                  "plan": "tasks/active/i-2-migrate-tasks-json-2026-02-26.md"
                }
              ]
            }
          ]
        },
        {
          "id": "INFRA-W2",
          "title": "Business",
          "parallelism": "SRL",
          "tasks": [
            {
              "id": "L-60",
              "description": "Pricing audit: review x402 pricing against real provider costs. Risks: spawn ($0.01 create vs $4/mo DO), token ($1 deploy vs $10-50 gas)",
              "owner": [
                "Claude",
                "Garric"
              ],
              "depends": [
                "L-22"
              ],
              "status": "pending",
              "release": null
            },
            {
              "id": "L-14",
              "description": "Full token launch: create Uniswap pool, fund liquidity, make repo public, announce. Seed pool conservatively ($2–3K USDC)",
              "owner": [
                "Garric",
                "Claude"
              ],
              "depends": [
                "L-15",
                "L-27",
                "PRIM-2"
              ],
              "status": "pending",
              "release": "v1.0.0"
            }
          ]
        },
        {
          "id": "INFRA-W3",
          "title": "Ops",
          "parallelism": "PARA",
          "tasks": [
            {
              "id": "L-22",
              "description": "Mainnet switchover: VPS env files `eip155:84532` → `eip155:8453`, set prod `PRIM_PAY_TO`, fund facilitator with mainnet USDC",
              "owner": [
                "Garric"
              ],
              "depends": [
                "L-27"
              ],
              "status": "pending",
              "release": "v1.0.0"
            },
            {
              "id": "L-70",
              "description": "Deploy token.sh to VPS: systemd unit (prim-token:3007), Caddy route, DNS, env vars, smoke test",
              "owner": [
                "Garric"
              ],
              "depends": [],
              "status": "pending",
              "release": "v1.0.0"
            },
            {
              "id": "L-71",
              "description": "Deploy mem.sh to VPS: Qdrant instance, systemd unit (prim-mem:3008), Caddy route, DNS, env vars, smoke test",
              "owner": [
                "Garric"
              ],
              "depends": [],
              "status": "pending",
              "release": "v1.0.0"
            },
            {
              "id": "L-15",
              "description": "Pre-public checklist: rotate Stalwart admin password + relay-wrapper API key, confirm .env files gitignored",
              "owner": [
                "Garric"
              ],
              "depends": [
                "HRD-20",
                "SEC-1c"
              ],
              "status": "pending",
              "release": "v1.0.0"
            }
          ]
        },
        {
          "id": "INFRA-W4",
          "title": "Prim Factory — Foundation",
          "parallelism": "SRL",
          "phases": [
            {
              "id": "INFRA-W4-PA",
              "title": "App Factory",
              "parallelism": "SRL",
              "tasks": [
                {
                  "id": "I-5",
                  "description": "createPrimApp() factory in x402-middleware: env validation, middleware wiring, health, llms.txt, pricing, error mapping. Migrate track + search as proof.",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [],
                  "status": "done",
                  "release": null,
                  "plan": "tasks/active/i-5-create-prim-app-factory.md"
                },
                {
                  "id": "I-6",
                  "description": "Migrate remaining 8 prims to createPrimApp() (wallet, store, spawn, faucet, email, mem, domain, token). Factory supports opt-out for special middleware.",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [
                    "I-5"
                  ],
                  "status": "done",
                  "release": null,
                  "plan": "tasks/active/i-6-migrate-prims-to-factory.md"
                },
                {
                  "id": "I-7",
                  "description": "Conformance runner: `pnpm test:conformance` verifies every deployed prim passes 5-check contract + generated files up-to-date. Add to CI.",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [
                    "I-6"
                  ],
                  "status": "done",
                  "release": null,
                  "plan": "tasks/active/i-7-conformance-runner.md"
                }
              ]
            },
            {
              "id": "INFRA-W4-PB",
              "title": "Schema Extension",
              "tasks": [
                {
                  "id": "I-8",
                  "description": "Extend prim.yaml schema: add `providers` section (name, env, status, default), `interface` flags, strengthen routes_map typing. Update Primitive type.",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [
                    "I-5"
                  ],
                  "status": "done",
                  "release": null,
                  "plan": "tasks/active/i-8-prim-yaml-schema-v2.md"
                }
              ]
            }
          ]
        },
        {
          "id": "INFRA-W5",
          "title": "Prim Factory — OpenAPI & Generation",
          "parallelism": "SRL",
          "phases": [
            {
              "id": "INFRA-W5-PA",
              "title": "OpenAPI Specs",
              "parallelism": "PARA",
              "tasks": [
                {
                  "id": "I-18",
                  "description": "Write OpenAPI 3.1 specs for live prims: wallet, store, spawn, faucet, search, email. Full JSON Schema, x402 security scheme, x-price, examples.",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [
                    "I-8"
                  ],
                  "status": "done",
                  "release": null,
                  "plan": "tasks/active/i-18-openapi-specs-live.md"
                },
                {
                  "id": "I-19",
                  "description": "Write OpenAPI 3.1 specs for built prims: mem, domain, token. Same standard as I-18. Existing drafts in specs/openapi/ may be partially complete.",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [
                    "I-8"
                  ],
                  "status": "done",
                  "release": null,
                  "plan": "tasks/active/i-19-openapi-specs-built.md"
                }
              ]
            },
            {
              "id": "INFRA-W5-PB",
              "title": "Build Generators",
              "parallelism": "PARA",
              "tasks": [
                {
                  "id": "I-12",
                  "description": "MCP tool generator: `pnpm gen:mcp` reads OpenAPI specs → generates packages/mcp/src/tools/*.ts. Replaces manually maintained tool files.",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [
                    "I-18"
                  ],
                  "status": "done",
                  "release": null,
                  "plan": "tasks/completed/i-12-mcp-generator.md"
                },
                {
                  "id": "I-13",
                  "description": "CLI command generator: `pnpm gen:cli` reads OpenAPI specs → generates packages/keystore/src/*-commands.ts. Replaces manually maintained CLI files.",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [
                    "I-18"
                  ],
                  "status": "done",
                  "release": null,
                  "plan": "tasks/completed/i-13-cli-generator.md"
                },
                {
                  "id": "I-14",
                  "description": "OpenAI function schema generator: `pnpm gen:openai` reads OpenAPI specs → outputs JSON with OpenAI-compatible tool definitions for Responses API.",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [
                    "I-18"
                  ],
                  "status": "done",
                  "release": null,
                  "plan": "tasks/active/i-14-openai-schema-generator.md"
                }
              ]
            },
            {
              "id": "INFRA-W5-PC",
              "title": "Unified Pipeline",
              "tasks": [
                {
                  "id": "I-15",
                  "description": "Unified gen pipeline: single `pnpm gen` runs gen:prims + gen:tests + gen:mcp + gen:cli + gen:openai. `pnpm gen:check` validates all. CI blocks if stale.",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [
                    "I-10",
                    "I-12",
                    "I-13",
                    "I-14"
                  ],
                  "status": "pending",
                  "release": null
                }
              ]
            }
          ]
        },
        {
          "id": "INFRA-W6",
          "title": "Prim Factory — Scaffolder & Agent Interfaces",
          "parallelism": "PARA",
          "phases": [
            {
              "id": "INFRA-W6-PA",
              "title": "Scaffolder",
              "parallelism": "SRL",
              "tasks": [
                {
                  "id": "I-9",
                  "description": "`pnpm create-prim <id>` scaffolder: reads prim.yaml, generates package.json, tsconfig, vitest.config, install.sh, src/{index,api,service,provider}.ts, smoke.test.ts, README.",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [
                    "I-8"
                  ],
                  "status": "done",
                  "release": null,
                  "plan": "tasks/active/i-9-prim-scaffolder.md"
                },
                {
                  "id": "I-10",
                  "description": "Smoke test generator: `pnpm gen:tests` reads routes_map + api.ts types, generates conformant smoke.test.ts with all 5 checks. Wire into `pnpm gen`.",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [
                    "I-9"
                  ],
                  "status": "done",
                  "release": null,
                  "plan": "tasks/active/i-10-smoke-test-generator.md"
                },
                {
                  "id": "I-11",
                  "description": "Interactive prim.yaml creator: `pnpm create-prim --interactive` CLI wizard (id, name, routes, pricing, providers, accent). Also usable as LLM skill.",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [
                    "I-9"
                  ],
                  "status": "pending",
                  "release": null,
                  "plan": "tasks/active/i-11-interactive-prim-creator.md"
                }
              ]
            },
            {
              "id": "INFRA-W6-PB",
              "title": "Skills",
              "tasks": [
                {
                  "id": "I-20",
                  "description": "Write agent skill docs: getting-started.md, per-prim workflows (wallet, store, spawn, search, email, mem, domain, token), multi-prim.md cross-primitive patterns.",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [
                    "I-18"
                  ],
                  "status": "done",
                  "release": null,
                  "plan": "tasks/completed/i-20-skills.md"
                }
              ]
            },
            {
              "id": "INFRA-W6-PC",
              "title": "Plugins",
              "tasks": [
                {
                  "id": "I-21",
                  "description": "Plugin install system: `prim install <primitive|all>`, manifest registry, MCP config injection into Claude/Cursor/VS Code, agent env detection.",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [
                    "I-12",
                    "I-20"
                  ],
                  "status": "pending",
                  "release": null,
                  "plan": "tasks/active/i-21-plugin-install-system.md"
                }
              ]
            }
          ]
        },
        {
          "id": "INFRA-W7",
          "title": "Prim Factory — Provider Framework",
          "parallelism": "SRL",
          "tasks": [
            {
              "id": "I-16",
              "description": "PrimProvider base interface in x402-middleware: name, init(config), healthCheck(). Each prim extends with domain methods. Document the contract.",
              "owner": [
                "Claude"
              ],
              "depends": [
                "I-8"
              ],
              "status": "done",
              "release": null,
              "plan": "tasks/completed/i-16-provider-interface.md"
            },
            {
              "id": "I-17",
              "description": "Provider registry + selection utility: config-driven vendor selection (env-based), fallback chains, health-check-on-startup. Migrate search.sh (Tavily) as proof.",
              "owner": [
                "Claude"
              ],
              "depends": [
                "I-16"
              ],
              "status": "pending",
              "release": null,
              "plan": "tasks/active/i-17-provider-registry.md"
            }
          ]
        }
      ],
      "description": "CI, tooling, observability, pricing, cross-cutting platform work."
    },
    {
      "id": "COMM",
      "title": "Community & Brand",
      "waves": [
        {
          "id": "COMM-W1",
          "title": "Brand + Social",
          "parallelism": "SRL",
          "tasks": [
            {
              "id": "L-54",
              "description": "Create Discord server: name \"Prim\", channels (#general, #bugs, #feature-requests, #announcements), permanent invite link",
              "owner": [
                "Garric"
              ],
              "depends": [],
              "status": "pending",
              "release": null
            },
            {
              "id": "L-38",
              "description": "Set brand assets on platforms: GitHub org avatar + repo social preview, X profile pic + banner, Discord icon",
              "owner": [
                "Garric"
              ],
              "depends": [
                "L-54"
              ],
              "status": "pending",
              "release": null
            },
            {
              "id": "L-55",
              "description": "Upload `final-logo.jpg` as GitHub org avatar, X @useprim profile pic, Discord server icon",
              "owner": [
                "Garric"
              ],
              "depends": [
                "L-54"
              ],
              "status": "pending",
              "release": null
            },
            {
              "id": "L-56",
              "description": "Upload `final-x-banner.jpg` as X @useprim header image",
              "owner": [
                "Garric"
              ],
              "depends": [],
              "status": "pending",
              "release": null
            },
            {
              "id": "L-57",
              "description": "Upload `final-social-preview.jpg` as GitHub repo social preview",
              "owner": [
                "Garric"
              ],
              "depends": [],
              "status": "pending",
              "release": null
            }
          ]
        },
        {
          "id": "COMM-W2",
          "title": "Content + Features",
          "parallelism": "PARA",
          "tasks": [
            {
              "id": "L-72",
              "description": "README brand sync: `scripts/gen-readme.ts` reads `brand.ts` and rewrites tagline + one-liner sections in README.md",
              "owner": [
                "Claude"
              ],
              "depends": [],
              "status": "pending",
              "release": null
            },
            {
              "id": "L-41",
              "description": "Human docs: `prim.sh/docs` getting-started guide. Wallet setup, faucet, first API call, per-primitive examples",
              "owner": [
                "Claude"
              ],
              "depends": [],
              "status": "pending",
              "release": null
            },
            {
              "id": "L-42",
              "description": "Draft X launch content: tweet copy per teaser image, launch thread script, pin strategy",
              "owner": [
                "Garric",
                "Claude"
              ],
              "depends": [],
              "status": "pending",
              "release": null
            },
            {
              "id": "L-44",
              "description": "Access form: add optional X handle + GitHub handle fields. Store in D1 `access_requests` table",
              "owner": [
                "Claude"
              ],
              "depends": [],
              "status": "pending",
              "release": null
            },
            {
              "id": "L-45",
              "description": "Wallet ping on access approval: tiny USDC transfer with calldata `prim.sh:access:approved`",
              "owner": [
                "Claude"
              ],
              "depends": [
                "L-44"
              ],
              "status": "pending",
              "release": null
            },
            {
              "id": "L-46",
              "description": "Per-page hero color variation: accent-colored radial gradient behind hero",
              "owner": [
                "Claude"
              ],
              "depends": [],
              "status": "pending",
              "release": null
            },
            {
              "id": "COM-1",
              "description": "Add CHANGELOG.md tracking version history, breaking changes, new primitives, and security patches",
              "owner": [
                "Claude"
              ],
              "depends": [],
              "status": "pending",
              "release": null
            },
            {
              "id": "COM-2",
              "description": "Add CODE_OF_CONDUCT.md (Contributor Covenant)",
              "owner": [
                "Claude"
              ],
              "depends": [],
              "status": "done",
              "release": null
            }
          ]
        },
        {
          "id": "COMM-W3",
          "title": "Site",
          "phases": [
            {
              "id": "COMM-W3-PA",
              "title": "Site Polish",
              "parallelism": "PARA",
              "tasks": [
                {
                  "id": "SITE-3",
                  "description": "Fix site bugs: `.principles` missing mobile breakpoint, missing `.img-fade` on index banner, dead `.wordmark` CSS, dead `HTTP_METHODS` const, dead `.s2` class refs",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [],
                  "status": "done",
                  "release": null
                },
                {
                  "id": "SITE-4",
                  "description": "OG + Twitter Card meta tags on all pages (`index.html` + `template.ts`): `og:title`, `og:description`, `og:image`, `twitter:card`",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [],
                  "status": "done",
                  "release": null
                },
                {
                  "id": "SITE-5",
                  "description": "SEO baseline: `<meta name=\"description\">`, `theme-color`, `apple-touch-icon` on all pages",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [],
                  "status": "done",
                  "release": null
                },
                {
                  "id": "SITE-6",
                  "description": "Custom 404 page: styled with prim.css, links home",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [],
                  "status": "done",
                  "release": null
                },
                {
                  "id": "SITE-7",
                  "description": "Smooth scroll + scroll-hint anchors to first content section",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [],
                  "status": "done",
                  "release": null
                },
                {
                  "id": "SITE-8",
                  "description": "Fix `.hero` structure: sections + footer render inside hero flexbox on sub-pages",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [],
                  "status": "done",
                  "release": null
                },
                {
                  "id": "SITE-9",
                  "description": "Per-product install.sh: generator script (scripts/gen-install-scripts.ts), serve route (/<id>/install.sh), hero block replaced with install one-liner. Plan: tasks/active/site-9-per-product-install-2026-02-26.md",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [],
                  "status": "done",
                  "release": null
                }
              ]
            }
          ]
        },
        {
          "id": "COMM-W4",
          "title": "llms.txt Code Generation",
          "parallelism": "SRL",
          "phases": [
            {
              "id": "COMM-W4-PA",
              "title": "Data Annotation",
              "parallelism": "PARA",
              "tasks": [
                {
                  "id": "COM-3",
                  "description": "Add JSDoc field annotations to all api.ts interfaces (10 prims), create faucet api.ts, add missing ERROR_CODES to search + track",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [],
                  "status": "done",
                  "release": null
                },
                {
                  "id": "COM-4",
                  "description": "Add llms.txt fields to prim.yaml (quick_start, tips, limits, ownership, routes_map) + update Primitive type in primitives.ts",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [],
                  "status": "done",
                  "release": null
                }
              ]
            },
            {
              "id": "COMM-W4-PB",
              "title": "Generator",
              "parallelism": "SRL",
              "tasks": [
                {
                  "id": "COM-5",
                  "description": "Build scripts/lib/parse-api.ts — regex parser extracting interfaces, fields, JSDoc, ERROR_CODES from api.ts files",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [
                    "COM-3"
                  ],
                  "status": "done",
                  "release": null
                },
                {
                  "id": "COM-6",
                  "description": "Build scripts/lib/render-llms-txt.ts + wire into gen-prims.ts — render full llms.txt from Primitive + ParsedApi + route prices",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [
                    "COM-4",
                    "COM-5"
                  ],
                  "status": "done",
                  "release": null
                }
              ]
            },
            {
              "id": "COMM-W4-PC",
              "title": "Integration",
              "parallelism": "PARA",
              "tasks": [
                {
                  "id": "COM-7",
                  "description": "Add GET /llms.txt handler + freeRoutes to all prims; remove embedded LLMS_TXT consts from email/domain/token/mem index.ts",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [
                    "COM-6"
                  ],
                  "status": "done",
                  "release": null
                },
                {
                  "id": "COM-8",
                  "description": "Add llms.txt to gen-prims.ts --check mode; verify CI workflow runs gen:check",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [
                    "COM-6"
                  ],
                  "status": "done",
                  "release": null
                }
              ]
            }
          ],
          "plan": "tasks/active/comm-w4-llms-txt-codegen-2026-02-26.md"
        },
        {
          "id": "COMM-W5",
          "title": "Pages Production Pipeline",
          "parallelism": "SRL",
          "tasks": [
            {
              "id": "SITE-10",
              "description": "Wire GHA → Cloudflare Pages: add deploy-site job (wrangler pages deploy), rename deploy→deploy-vps, add verify smoke check, GitHub Environments (production). Plan: tasks/active/site-10-pages-gha-2026-02-27.md",
              "owner": [
                "Claude"
              ],
              "depends": [],
              "status": "done",
              "release": null,
              "plan": "tasks/active/site-10-pages-gha-2026-02-27.md"
            },
            {
              "id": "SITE-11",
              "description": "Remove prim-site from VPS: stop/disable systemd unit, remove Caddy prim.sh block, remove restart from deploy.sh, exclude site/ from rsync in deploy.yml + sync-vps.sh. Plan: tasks/active/site-11-prim-site-removal-2026-02-27.md",
              "owner": [
                "Claude"
              ],
              "depends": [
                "SITE-10"
              ],
              "status": "done",
              "release": null,
              "plan": "tasks/active/site-11-prim-site-removal-2026-02-27.md"
            }
          ]
        }
      ],
      "description": "Docs, Discord, brand assets, marketing."
    },
    {
      "id": "BKLG",
      "title": "Backlog",
      "waves": [
        {
          "id": "BKLG-W1",
          "title": "Backlog",
          "tasks": [
            {
              "id": "L-50",
              "description": "deploy.sh: PaaS above spawn.sh — push container or repo URL, get live endpoint. Wraps Dokku/Coolify",
              "owner": [
                "Claude"
              ],
              "depends": [],
              "status": "backlog",
              "release": null
            }
          ]
        }
      ],
      "description": "Future primitives and deferred ideas. No timeline."
    }
  ]
}
