{
  "sections": [
    {
      "id": "HRD",
      "title": "Hardening",
      "waves": [
        {
          "id": "HRD-W1",
          "title": "Open-Source Readiness",
          "parallelism": "PARA",
          "phases": [
            {
              "id": "HRD-W1-PA",
              "title": "Service Layer + Middleware",
              "parallelism": "SRL",
              "tasks": [
                {
                  "id": "HRD-3",
                  "description": "Expand wallet smoke test to 5-check contract (match `track/test/smoke.test.ts`)",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [],
                  "status": "done",
                  "release": "v1.0.0"
                },
                {
                  "id": "HRD-4",
                  "description": "Add try-catch around `JSON.parse` calls in service layers (wallet, email, store).",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [
                    "HRD-3"
                  ],
                  "status": "done",
                  "release": "v1.0.0",
                  "plan": "tasks/completed/hrd-4-json-parse-safety.md"
                },
                {
                  "id": "HRD-8",
                  "description": "Standardize pagination: define shared response shape across all list endpoints.",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [
                    "HRD-4"
                  ],
                  "status": "done",
                  "release": "v1.0.0",
                  "plan": "tasks/completed/hrd-8-pagination-standard.md"
                },
                {
                  "id": "HRD-10",
                  "description": "Add per-wallet rate limiting to x402-middleware (configurable, default 60/min).",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [
                    "HRD-8"
                  ],
                  "status": "done",
                  "release": "v1.0.0",
                  "plan": "tasks/completed/hrd-10-rate-limiting.md"
                }
              ]
            },
            {
              "id": "HRD-W1-PB",
              "title": "Wallet DB Fixes",
              "parallelism": "PARA",
              "tasks": [
                {
                  "id": "HRD-2",
                  "description": "Fix `allowlist-db.ts` DB handle leak: use singleton pattern from `wallet/db.ts`",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [],
                  "status": "done",
                  "release": "v1.0.0"
                },
                {
                  "id": "HRD-5",
                  "description": "Fix `setUTCHours(24)` in `wallet/src/db.ts` \u2014 use explicit date arithmetic",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [],
                  "status": "done",
                  "release": "v1.0.0"
                }
              ]
            },
            {
              "id": "HRD-W1-PC",
              "title": "Repo-Level Hygiene",
              "parallelism": "PARA",
              "tasks": [
                {
                  "id": "HRD-1",
                  "description": "Remove `*.db` + `server.log` from repo; scrub `.env.email` from git history",
                  "owner": [
                    "Garric"
                  ],
                  "depends": [],
                  "status": "done",
                  "release": "v1.0.0"
                },
                {
                  "id": "HRD-6",
                  "description": "Create `SECURITY.md` (referenced by CONTRIBUTING.md but missing)",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [],
                  "status": "done",
                  "release": "v1.0.0"
                },
                {
                  "id": "HRD-7",
                  "description": "Add `pnpm -r lint` + `pnpm -r typecheck` to `.github/workflows/ci.yml`",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [],
                  "status": "done",
                  "release": "v1.0.0"
                },
                {
                  "id": "HRD-9",
                  "description": "Add per-package `README.md` (purpose, install, API summary)",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [],
                  "status": "done",
                  "release": "v1.0.0"
                },
                {
                  "id": "HRD-20",
                  "description": "Scrub sensitive data: VPS IP from runbook, treasury wallet from plan doc, personal emails from completed task, infra details from CLAUDE.md",
                  "owner": [
                    "Garric"
                  ],
                  "depends": [],
                  "status": "done",
                  "release": "v1.0.0"
                },
                {
                  "id": "HRD-21",
                  "description": "Add package.json metadata (description, repository, license, author, keywords) to all packages",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [],
                  "status": "done",
                  "release": "v1.0.0"
                }
              ]
            }
          ]
        },
        {
          "id": "HRD-W2",
          "title": "Code Quality",
          "parallelism": "SRL",
          "phases": [
            {
              "id": "HRD-W2-PA",
              "title": "Error Handling & Config",
              "parallelism": "SRL",
              "tasks": [
                {
                  "id": "HRD-11",
                  "description": "Replace silent catch blocks with logger.warn() across all handlers (~7 files, ~30 catch blocks)",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [],
                  "status": "done",
                  "release": "v1.0.0"
                },
                {
                  "id": "HRD-12",
                  "description": "Fail-fast on missing PRIM_PAY_TO \u2014 zero-address fallback \u2192 startup crash with clear error message",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [
                    "HRD-11"
                  ],
                  "status": "done",
                  "release": "v1.0.0"
                }
              ]
            },
            {
              "id": "HRD-W2-PB",
              "title": "API Surface Consistency",
              "parallelism": "SRL",
              "tasks": [
                {
                  "id": "HRD-13",
                  "description": "Extract shared error helpers (forbidden, notFound, invalidRequest, serviceError) into @primsh/x402-middleware",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [
                    "HRD-12"
                  ],
                  "status": "done",
                  "release": "v1.0.0"
                },
                {
                  "id": "HRD-14",
                  "description": "Normalize all API response fields to snake_case (created_at not createdAt) across api.ts + service.ts",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [
                    "HRD-13"
                  ],
                  "status": "done",
                  "release": "v1.0.0"
                },
                {
                  "id": "HRD-22",
                  "description": "Consistent verb-position convention in api.ts interface names: standardize Create*/Register*/Set* prefix ordering across all 10 prims (e.g. CreateServerRequest not ServerCreateRequest)",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [
                    "HRD-14"
                  ],
                  "status": "pending",
                  "release": null
                }
              ]
            },
            {
              "id": "HRD-W2-PC",
              "title": "Test Backfill",
              "parallelism": "PARA",
              "tasks": [
                {
                  "id": "HRD-17",
                  "description": "Backfill spawn/test/smoke.test.ts to 5-check contract (currently only 2 assertions)",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [
                    "HRD-14"
                  ],
                  "status": "done",
                  "release": "v1.0.0"
                },
                {
                  "id": "HRD-18",
                  "description": "Add email/test/smoke.test.ts with 5-check contract (currently missing)",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [
                    "HRD-14"
                  ],
                  "status": "done",
                  "release": "v1.0.0"
                },
                {
                  "id": "HRD-19",
                  "description": "Fix token test mock typing \u2014 replace vi.fn<any[], any>() biome-ignore with properly typed mocks",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [
                    "HRD-14"
                  ],
                  "status": "done",
                  "release": "v1.0.0"
                },
                {
                  "id": "HRD-26",
                  "description": "Add packages/mcp/test/smoke.test.ts \u2014 zero tests on 14-source-file MCP server package",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [],
                  "status": "done",
                  "release": null
                }
              ]
            },
            {
              "id": "HRD-W2-PD",
              "title": "Validation & Pagination",
              "parallelism": "SRL",
              "tasks": [
                {
                  "id": "HRD-15",
                  "description": "Fix pagination cursor/page inconsistency \u2014 email treats cursor as numeric offset, wallet as string",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [],
                  "status": "pending",
                  "release": null
                },
                {
                  "id": "HRD-16",
                  "description": "Add Zod schemas for request body validation \u2014 replace bare c.req.json<T>() with z.parse()",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [
                    "HRD-15"
                  ],
                  "status": "pending",
                  "release": null
                }
              ]
            }
          ]
        },
        {
          "id": "HRD-W3",
          "title": "Pre-Public Audit Fixes",
          "parallelism": "PARA",
          "phases": [
            {
              "id": "HRD-W3-PA",
              "title": "Repo Scrub",
              "tasks": [
                {
                  "id": "HRD-23",
                  "description": "Final repo scrub: .gitignore (generated/, timestamps), delete orig assets, remove ops docs, scrub residual VPS IPs, exclude internal scripts",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [],
                  "status": "done",
                  "release": "v1.0.0",
                  "plan": "tasks/completed/hrd-23-repo-scrub.md"
                }
              ]
            },
            {
              "id": "HRD-W3-PB",
              "title": "Test Coverage Gaps",
              "parallelism": "PARA",
              "tasks": [
                {
                  "id": "HRD-26",
                  "description": "Add packages/mcp/test/smoke.test.ts \u2014 zero tests on 14-source-file MCP server package",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [],
                  "status": "done",
                  "release": null,
                  "plan": "tasks/active/hrd-26-mcp-smoke-tests.md"
                },
                {
                  "id": "HRD-27",
                  "description": "Backfill search/test/smoke.test.ts to 5-check contract (currently 12 lines)",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [],
                  "status": "done",
                  "release": null
                },
                {
                  "id": "HRD-28",
                  "description": "Backfill domain/test/smoke.test.ts to 5-check contract (currently 37 lines)",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [],
                  "status": "done",
                  "release": null
                },
                {
                  "id": "HRD-29",
                  "description": "Backfill store/test/smoke.test.ts to 5-check contract (currently 49 lines)",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [],
                  "status": "done",
                  "release": null
                }
              ]
            },
            {
              "id": "HRD-W3-PC",
              "title": "Code Cleanup",
              "parallelism": "PARA",
              "tasks": [
                {
                  "id": "HRD-30",
                  "description": "Replace residual console.warn() \u2192 structured logger in wallet/src/service.ts + email/src/service.ts (HRD-11 residual)",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [],
                  "status": "done",
                  "release": null,
                  "plan": "tasks/active/hrd-30-console-warn-to-logger.md"
                },
                {
                  "id": "HRD-31",
                  "description": "Extract shared CLI error handler in keystore/src/cli.ts (11 identical try-catch blocks)",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [],
                  "status": "done",
                  "release": null
                }
              ]
            }
          ]
        },
        {
          "id": "HRD-W4",
          "title": "Smoke Test CLI Fixes",
          "parallelism": "PARA",
          "phases": [
            {
              "id": "HRD-W4-PA",
              "title": "CLI Bugs",
              "parallelism": "SRL",
              "tasks": [
                {
                  "id": "HRD-32",
                  "description": "`--help` exits code 1; on some subcommands (e.g. `email create --help`) hits paid API before showing usage",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [],
                  "status": "pending",
                  "release": null
                },
                {
                  "id": "HRD-33",
                  "description": "`spawn get` returns human-readable text while all other commands return JSON. Add `--json` flag globally.",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [],
                  "status": "pending",
                  "release": null
                },
                {
                  "id": "HRD-34",
                  "description": "`--ssh-keys` flag parses single string char-by-char \u2014 `sk_abc` becomes error \"key not found: s\"",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [],
                  "status": "pending",
                  "release": null
                },
                {
                  "id": "HRD-35",
                  "description": "Email CLI errors double-print \u2014 both `handleError` and `wrapCommand` catch block write to stderr",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [],
                  "status": "pending",
                  "release": null
                },
                {
                  "id": "HRD-36",
                  "description": "`store ls BUCKET_ID` returns bucket metadata instead of listing objects. API has GET /v1/buckets/{id}/objects.",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [],
                  "status": "pending",
                  "release": null
                },
                {
                  "id": "HRD-37",
                  "description": "CLI defaults to eip155:8453 (mainnet); server runs eip155:84532. Silent 500 with no diagnostic error msg.",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [],
                  "status": "pending",
                  "release": null
                }
              ]
            },
            {
              "id": "HRD-W4-PB",
              "title": "CLI UX Gaps",
              "parallelism": "PARA",
              "tasks": [
                {
                  "id": "HRD-38",
                  "description": "Show x402 cost per request in CLI output (e.g. `Paid: 0.001 USDC`) or via `--verbose` flag",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [],
                  "status": "pending",
                  "release": null
                },
                {
                  "id": "HRD-39",
                  "description": "`wallet balance` shows mainnet chain (eip155:8453) even when wallet funded on testnet (eip155:84532)",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [],
                  "status": "pending",
                  "release": null
                },
                {
                  "id": "HRD-40",
                  "description": "Add `prim wallet info` and `prim wallet policy` CLI commands wrapping paid GET /v1/wallets/{addr} endpoints",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [],
                  "status": "pending",
                  "release": null
                }
              ]
            }
          ]
        }
      ],
      "description": "Code quality, security, and reliability fixes from open-source readiness review."
    },
    {
      "id": "PRIMS",
      "title": "Primitives",
      "waves": [
        {
          "id": "PRIMS-W1",
          "title": "store.sh",
          "parallelism": "PARA",
          "tasks": [
            {
              "id": "ST-7",
              "description": "Presigned URLs (GET + PUT): time-limited signed R2 URLs for direct agent access",
              "owner": [
                "Claude"
              ],
              "depends": [],
              "status": "pending",
              "release": null
            },
            {
              "id": "ST-8",
              "description": "Public buckets: per-bucket public-read flag, stable object URLs",
              "owner": [
                "Claude"
              ],
              "depends": [],
              "status": "pending",
              "release": null
            },
            {
              "id": "ST-9",
              "description": "Multipart upload: S3 multipart API for objects >5MB",
              "owner": [
                "Claude"
              ],
              "depends": [],
              "status": "pending",
              "release": null
            },
            {
              "id": "ST-10",
              "description": "Object copy: within or between owned buckets",
              "owner": [
                "Claude"
              ],
              "depends": [],
              "status": "pending",
              "release": null
            },
            {
              "id": "ST-11",
              "description": "Lifecycle rules: per-bucket auto-expiry policies",
              "owner": [
                "Claude"
              ],
              "depends": [],
              "status": "pending",
              "release": null
            },
            {
              "id": "ST-12",
              "description": "Bucket event webhooks: HMAC-signed callbacks on create/delete",
              "owner": [
                "Claude"
              ],
              "depends": [],
              "status": "pending",
              "release": null
            },
            {
              "id": "ST-13",
              "description": "Object metadata + tagging: custom key-value metadata",
              "owner": [
                "Claude"
              ],
              "depends": [],
              "status": "pending",
              "release": null
            }
          ]
        },
        {
          "id": "PRIMS-W2",
          "title": "email.sh",
          "parallelism": "SRL",
          "tasks": [
            {
              "id": "E-8",
              "description": "Fix mailbox creation 500: POST /v1/mailboxes crashes after x402 payment succeeds. User charged, no mailbox.",
              "owner": [
                "Claude"
              ],
              "depends": [],
              "status": "pending",
              "release": "v1.0.0"
            },
            {
              "id": "E-4",
              "description": "Domain warmup: send low-volume emails to engaged recipients, ramp over weeks",
              "owner": [
                "Claude"
              ],
              "depends": [],
              "status": "pending",
              "release": null
            },
            {
              "id": "E-5",
              "description": "Verify Gmail inbox delivery (not spam) after warmup + PTR + DMARC changes",
              "owner": [
                "Claude"
              ],
              "depends": [
                "E-4"
              ],
              "status": "pending",
              "release": null
            },
            {
              "id": "E-6",
              "description": "Verify Apple Mail / iCloud delivery after warmup",
              "owner": [
                "Claude"
              ],
              "depends": [
                "E-4"
              ],
              "status": "pending",
              "release": null
            },
            {
              "id": "E-7",
              "description": "Upgrade DMARC back to `p=quarantine` once inbox delivery is consistent",
              "owner": [
                "Claude"
              ],
              "depends": [
                "E-5",
                "E-6"
              ],
              "status": "pending",
              "release": null
            }
          ]
        },
        {
          "id": "PRIMS-W3",
          "title": "spawn.sh",
          "tasks": [
            {
              "id": "SP-7",
              "description": "DockerProvider: Docker container tier as default (10\u201350x cheaper than VMs).",
              "owner": [
                "Claude"
              ],
              "depends": [],
              "status": "pending",
              "release": null,
              "plan": "tasks/active/sp-7-docker-provider-2026-02-26.md"
            },
            {
              "id": "SP-8",
              "description": "Nested spawn: POST /v1/servers/{id}/containers — create/list/destroy containers on an existing spawn via SSH+Docker. Enables spawn-inside-spawn for agent replication.",
              "owner": [],
              "depends": ["SP-7"],
              "status": "pending",
              "release": null
            }
          ]
        },
        {
          "id": "PRIMS-W4",
          "title": "track.sh",
          "tasks": [
            {
              "id": "TR-2",
              "description": "Smoke test + deploy: live Shippo call, systemd unit, Caddy route, DNS, env vars",
              "owner": [
                "Claude",
                "Garric"
              ],
              "depends": [],
              "status": "pending",
              "release": null
            }
          ]
        },
        {
          "id": "PRIMS-W5",
          "title": "$PRIM Token",
          "parallelism": "SRL",
          "tasks": [
            {
              "id": "L-27",
              "description": "**DO FIRST.** Deploy $PRIM ERC-20 to Base mainnet. Register ticker on BaseScan. 100% supply to treasury wallet. Pool deferred",
              "owner": [
                "Garric"
              ],
              "depends": [],
              "status": "pending",
              "release": "v1.0.0"
            },
            {
              "id": "PRIM-2",
              "description": "$PRIM utility design: fee discounts, governance, access tiers, revenue share. Design doc only.",
              "owner": [
                "Garric",
                "Claude"
              ],
              "depends": [
                "L-27"
              ],
              "status": "pending",
              "release": "v1.0.0",
              "plan": "tasks/active/prim-2-token-utility-2026-02-26.md"
            }
          ]
        },
        {
          "id": "PRIMS-W6",
          "title": "issue.sh",
          "parallelism": "SRL",
          "tasks": [
            {
              "id": "FB-1",
              "description": "issue.sh MVP: POST /v1/issues \u2014 agents file structured bug reports + feature requests via x402. Bug reports free.",
              "owner": [
                "Claude"
              ],
              "depends": [],
              "status": "pending",
              "release": null
            },
            {
              "id": "FB-2",
              "description": "issue.sh read endpoints: GET /v1/issues, GET /v1/issues/:id, POST /v1/issues/:id/comments. x402 paid.",
              "owner": [
                "Claude"
              ],
              "depends": [
                "FB-1"
              ],
              "status": "pending",
              "release": null
            },
            {
              "id": "FB-3",
              "description": "issue.sh \u2192 GitHub sync: auto-create GitHub issues from agent reports. Label by primitive + severity.",
              "owner": [
                "Claude"
              ],
              "depends": [
                "FB-1"
              ],
              "status": "pending",
              "release": null
            },
            {
              "id": "FB-4",
              "description": "x402-middleware: add `report` URL (https://issue.prim.sh/v1/issues) to every error envelope automatically. One change, all prims get it for free.",
              "owner": ["Claude"],
              "depends": ["FB-1"],
              "status": "pending",
              "release": null
            }
          ]
        },
        {
          "id": "PRIMS-W7",
          "title": "infer.sh — Agent Test Loop",
          "parallelism": "SRL",
          "tasks": [
            {
              "id": "INF-1",
              "description": "Fill api.ts types: OpenAI-compatible ChatRequest/Response, EmbedRequest/Response, ModelsResponse. Include Message, Tool, ToolCall, ContentPart, Choice, Usage.",
              "owner": ["Claude"],
              "depends": [],
              "status": "done",
              "release": null,
              "plan": "tasks/active/inf-infer-sh-pipeline.md"
            },
            {
              "id": "INF-2",
              "description": "Implement openrouter.ts: chat/embed/models methods wrapping OpenRouter API. Fix env var INFER_API_KEY → OPENROUTER_API_KEY. Add prim.sh referer headers.",
              "owner": ["Claude"],
              "depends": ["INF-1"],
              "status": "done",
              "release": null,
              "plan": "tasks/active/inf-infer-sh-pipeline.md"
            },
            {
              "id": "INF-3",
              "description": "Implement service.ts: validation + provider delegation for chat (model+messages required), embed (model+input required), models (no input). handleProviderError helper.",
              "owner": ["Claude"],
              "depends": ["INF-2"],
              "status": "done",
              "release": null,
              "plan": "tasks/active/inf-infer-sh-pipeline.md"
            },
            {
              "id": "INF-4",
              "description": "Fix scaffolder bugs in index.ts: GET /v1/models tries to parse JSON body from GET request; models() service signature takes unnecessary body param.",
              "owner": ["Claude"],
              "depends": ["INF-1"],
              "status": "done",
              "release": null,
              "plan": "tasks/active/inf-infer-sh-pipeline.md"
            },
            {
              "id": "INF-5",
              "description": "Update smoke test with realistic ChatResponse mock, verify 5/5 checks pass after implementation.",
              "owner": ["Claude"],
              "depends": ["INF-3", "INF-4"],
              "status": "done",
              "release": null,
              "plan": "tasks/active/inf-infer-sh-pipeline.md"
            },
            {
              "id": "INF-6",
              "description": "Deploy infer.sh to VPS: systemd unit, /etc/prim/infer.env, Caddy route (port 3012), prim.yaml status → live, pnpm gen:prims.",
              "owner": ["Garric"],
              "depends": ["INF-5"],
              "status": "done",
              "release": null,
              "plan": "tasks/active/inf-infer-sh-pipeline.md"
            }
          ]
        }
      ],
      "description": "Feature work on specific services."
    },
    {
      "id": "INFRA",
      "title": "Infrastructure",
      "waves": [
        {
          "id": "INFRA-W1",
          "title": "Tooling",
          "parallelism": "PARA",
          "phases": [
            {
              "id": "INFRA-W1-PA",
              "title": "CI Pipeline",
              "parallelism": "SRL",
              "tasks": [
                {
                  "id": "I-4",
                  "description": "Parallelize CI: split into concurrent jobs (setup \u2192 lint|typecheck|test|gen-check PARA), add concurrency + bun cache",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [],
                  "status": "pending",
                  "release": null,
                  "plan": "tasks/active/i-4-ci-parallel-2026-02-26.md"
                },
                {
                  "id": "I-3",
                  "description": "CI OpenAPI spec validation \u2014 check that spec response shapes match PaginatedList<T> and error envelopes at build time",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [
                    "I-4"
                  ],
                  "status": "pending",
                  "release": null,
                  "plan": "tasks/active/i-3-coverage-gate-2026-02-26.md"
                }
              ]
            },
            {
              "id": "INFRA-W1-PB",
              "title": "GitHub Automation",
              "parallelism": "PARA",
              "tasks": [
                {
                  "id": "L-29",
                  "description": "GH Action: auto-dedupe issues, stale auto-close (30d), bot PR auto-merge if CI passes",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [],
                  "status": "pending",
                  "release": null,
                  "plan": "tasks/active/l-29-gh-automation-2026-02-26.md"
                },
                {
                  "id": "OPS-5",
                  "description": "GHA deploy pipeline: SSH deploy key (restricted to deploy.sh) + .github/workflows/deploy.yml (check \u2192 rsync \u2192 restart). Replaces manual sync:vps for prod.",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [],
                  "status": "pending",
                  "release": null,
                  "plan": "tasks/active/ops-5-gha-deploy-2026-02-26.md"
                }
              ]
            },
            {
              "id": "INFRA-W1-PC",
              "title": "Quality & Security",
              "parallelism": "PARA",
              "tasks": [
                {
                  "id": "OPS-4",
                  "description": "Load test baseline: k6 against health + store CRUD, document capacity thresholds",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [],
                  "status": "pending",
                  "release": null,
                  "plan": "tasks/active/ops-4-load-test-2026-02-26.md"
                },
                {
                  "id": "SEC-1a",
                  "description": "Add `.gitleaks.toml` + pre-commit hook to block new secrets from landing. Non-destructive, no stop-the-world.",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [],
                  "status": "done",
                  "release": "v1.0.0"
                },
                {
                  "id": "SEC-1b",
                  "description": "Run `gitleaks detect --log-opts=\"--all\"` on full history. Triage findings as true/false positives. Read-only.",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [
                    "SEC-1a"
                  ],
                  "status": "done",
                  "release": "v1.0.0"
                },
                {
                  "id": "SEC-1c",
                  "description": "If true positives found: rotate active secrets, rewrite history with BFG/filter-repo, force push, all collaborators re-clone.",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [
                    "SEC-1b"
                  ],
                  "status": "pending",
                  "release": "v1.0.0",
                  "plan": "tasks/active/sec-1-git-secrets-audit-2026-02-26.md"
                }
              ]
            },
            {
              "id": "INFRA-W1-PD",
              "title": "Internal Tooling",
              "parallelism": "SRL",
              "tasks": [
                {
                  "id": "I-2",
                  "description": "Migrate TASKS.md \u2192 tasks.json: define schema, convert data, update launch-status.ts + docs, optional TASKS.md codegen.",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [],
                  "status": "pending",
                  "release": null,
                  "plan": "tasks/active/i-2-migrate-tasks-json-2026-02-26.md"
                }
              ]
            }
          ]
        },
        {
          "id": "INFRA-W2",
          "title": "Business",
          "parallelism": "SRL",
          "tasks": [
            {
              "id": "L-60",
              "description": "Pricing audit: review x402 pricing against real provider costs. Risks: spawn ($0.01 create vs $4/mo DO), token ($1 deploy vs $10-50 gas)",
              "owner": [
                "Claude",
                "Garric"
              ],
              "depends": [
                "L-22"
              ],
              "status": "pending",
              "release": null
            },
            {
              "id": "L-14",
              "description": "Full token launch: create Uniswap pool, fund liquidity, make repo public, announce. Seed pool conservatively ($2\u20133K USDC)",
              "owner": [
                "Garric",
                "Claude"
              ],
              "depends": [
                "L-15",
                "L-27",
                "PRIM-2"
              ],
              "status": "pending",
              "release": "v1.0.0"
            }
          ]
        },
        {
          "id": "INFRA-W3",
          "title": "Ops",
          "parallelism": "PARA",
          "tasks": [
            {
              "id": "L-22",
              "description": "Mainnet switchover: VPS env files `eip155:84532` \u2192 `eip155:8453`, set prod `PRIM_PAY_TO`, fund facilitator with mainnet USDC",
              "owner": [
                "Garric"
              ],
              "depends": [
                "L-27"
              ],
              "status": "pending",
              "release": "v1.0.0"
            },
            {
              "id": "L-70",
              "description": "Deploy token.sh to VPS: systemd unit (prim-token:3007), Caddy route, DNS, env vars, smoke test",
              "owner": [
                "Garric"
              ],
              "depends": [],
              "status": "pending",
              "release": "v1.0.0"
            },
            {
              "id": "L-71",
              "description": "Deploy mem.sh to VPS: Qdrant instance, systemd unit (prim-mem:3008), Caddy route, DNS, env vars, smoke test",
              "owner": [
                "Garric"
              ],
              "depends": [],
              "status": "pending",
              "release": "v1.0.0"
            },
            {
              "id": "L-15",
              "description": "Pre-public checklist: rotate Stalwart admin password + relay-wrapper API key, confirm .env files gitignored",
              "owner": [
                "Garric"
              ],
              "depends": [
                "HRD-20",
                "SEC-1c"
              ],
              "status": "pending",
              "release": "v1.0.0"
            },
            {
              "id": "OPS-6",
              "description": "Fund treasury wallet 0x09D896... with testnet ETH on Base Sepolia \u2014 faucet ETH drip returns 502",
              "owner": [
                "Garric"
              ],
              "depends": [],
              "status": "pending",
              "release": null
            }
          ]
        },
        {
          "id": "INFRA-W4",
          "title": "Prim Factory \u2014 Foundation",
          "parallelism": "SRL",
          "phases": [
            {
              "id": "INFRA-W4-PA",
              "title": "App Factory",
              "parallelism": "SRL",
              "tasks": [
                {
                  "id": "I-5",
                  "description": "createPrimApp() factory in x402-middleware: env validation, middleware wiring, health, llms.txt, pricing, error mapping. Migrate track + search as proof.",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [],
                  "status": "done",
                  "release": null,
                  "plan": "tasks/active/i-5-create-prim-app-factory.md"
                },
                {
                  "id": "I-6",
                  "description": "Migrate remaining 8 prims to createPrimApp() (wallet, store, spawn, faucet, email, mem, domain, token). Factory supports opt-out for special middleware.",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [
                    "I-5"
                  ],
                  "status": "done",
                  "release": null,
                  "plan": "tasks/active/i-6-migrate-prims-to-factory.md"
                },
                {
                  "id": "I-7",
                  "description": "Conformance runner: `pnpm test:conformance` verifies every live prim passes 5-check contract + generated files up-to-date. Add to CI.",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [
                    "I-6"
                  ],
                  "status": "done",
                  "release": null,
                  "plan": "tasks/active/i-7-conformance-runner.md"
                }
              ]
            },
            {
              "id": "INFRA-W4-PB",
              "title": "Schema Extension",
              "tasks": [
                {
                  "id": "I-8",
                  "description": "Extend prim.yaml schema: add `providers` section (name, env, status, default), `interface` flags, strengthen routes_map typing. Update Primitive type.",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [
                    "I-5"
                  ],
                  "status": "done",
                  "release": null,
                  "plan": "tasks/active/i-8-prim-yaml-schema-v2.md"
                }
              ]
            }
          ]
        },
        {
          "id": "INFRA-W5",
          "title": "Prim Factory \u2014 OpenAPI & Generation",
          "parallelism": "SRL",
          "phases": [
            {
              "id": "INFRA-W5-PA",
              "title": "OpenAPI Specs",
              "parallelism": "PARA",
              "tasks": [
                {
                  "id": "I-18",
                  "description": "Write OpenAPI 3.1 specs for live prims: wallet, store, spawn, faucet, search, email. Full JSON Schema, x402 security scheme, x-price, examples.",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [
                    "I-8"
                  ],
                  "status": "done",
                  "release": null,
                  "plan": "tasks/active/i-18-openapi-specs-live.md"
                },
                {
                  "id": "I-19",
                  "description": "Write OpenAPI 3.1 specs for built prims: mem, domain, token. Same standard as I-18. Existing drafts in specs/openapi/ may be partially complete.",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [
                    "I-8"
                  ],
                  "status": "done",
                  "release": null,
                  "plan": "tasks/active/i-19-openapi-specs-built.md"
                }
              ]
            },
            {
              "id": "INFRA-W5-PB",
              "title": "Build Generators",
              "parallelism": "PARA",
              "tasks": [
                {
                  "id": "I-12",
                  "description": "MCP tool generator: `pnpm gen:mcp` reads OpenAPI specs \u2192 generates packages/mcp/src/tools/*.ts. Replaces manually maintained tool files.",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [
                    "I-18"
                  ],
                  "status": "done",
                  "release": null,
                  "plan": "tasks/completed/i-12-mcp-generator.md"
                },
                {
                  "id": "I-13",
                  "description": "CLI command generator: `pnpm gen:cli` reads OpenAPI specs \u2192 generates packages/keystore/src/*-commands.ts. Replaces manually maintained CLI files.",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [
                    "I-18"
                  ],
                  "status": "done",
                  "release": null,
                  "plan": "tasks/completed/i-13-cli-generator.md"
                },
                {
                  "id": "I-14",
                  "description": "OpenAI function schema generator: `pnpm gen:openai` reads OpenAPI specs \u2192 outputs JSON with OpenAI-compatible tool definitions for Responses API.",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [
                    "I-18"
                  ],
                  "status": "done",
                  "release": null,
                  "plan": "tasks/active/i-14-openai-schema-generator.md"
                }
              ]
            },
            {
              "id": "INFRA-W5-PC",
              "title": "Unified Pipeline",
              "tasks": [
                {
                  "id": "I-15",
                  "description": "Unified gen pipeline: single `pnpm gen` runs gen:prims + gen:tests + gen:mcp + gen:cli + gen:openai. `pnpm gen:check` validates all. CI blocks if stale.",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [
                    "I-10",
                    "I-12",
                    "I-13",
                    "I-14"
                  ],
                  "status": "done",
                  "release": null
                }
              ]
            }
          ]
        },
        {
          "id": "INFRA-W6",
          "title": "Prim Factory \u2014 Scaffolder & Agent Interfaces",
          "parallelism": "PARA",
          "phases": [
            {
              "id": "INFRA-W6-PA",
              "title": "Scaffolder",
              "parallelism": "SRL",
              "tasks": [
                {
                  "id": "I-9",
                  "description": "`pnpm create-prim <id>` scaffolder: reads prim.yaml, generates package.json, tsconfig, vitest.config, install.sh, src/{index,api,service,provider}.ts, smoke.test.ts, README.",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [
                    "I-8"
                  ],
                  "status": "done",
                  "release": null,
                  "plan": "tasks/active/i-9-prim-scaffolder.md"
                },
                {
                  "id": "I-10",
                  "description": "Smoke test generator: `pnpm gen:tests` reads routes_map + api.ts types, generates conformant smoke.test.ts with all 5 checks. Wire into `pnpm gen`.",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [
                    "I-9"
                  ],
                  "status": "done",
                  "release": null,
                  "plan": "tasks/active/i-10-smoke-test-generator.md"
                },
                {
                  "id": "I-11",
                  "description": "Interactive prim.yaml creator: `pnpm create-prim --interactive` CLI wizard (id, name, routes, pricing, providers, accent). Also usable as LLM skill.",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [
                    "I-9"
                  ],
                  "status": "done",
                  "release": null,
                  "plan": "tasks/completed/i-11-interactive-prim-creator.md"
                }
              ]
            },
            {
              "id": "INFRA-W6-PB",
              "title": "Skills",
              "tasks": [
                {
                  "id": "I-20",
                  "description": "Write agent skill docs: getting-started.md, per-prim workflows (wallet, store, spawn, search, email, mem, domain, token), multi-prim.md cross-primitive patterns.",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [
                    "I-18"
                  ],
                  "status": "done",
                  "release": null,
                  "plan": "tasks/completed/i-20-skills.md"
                }
              ]
            },
            {
              "id": "INFRA-W6-PC",
              "title": "Plugins",
              "tasks": [
                {
                  "id": "I-21",
                  "description": "Plugin install system: `prim install <primitive|all>`, manifest registry, MCP config injection into Claude/Cursor/VS Code, agent env detection.",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [
                    "I-12",
                    "I-20"
                  ],
                  "status": "done",
                  "release": null,
                  "plan": "tasks/active/i-21-plugin-install-system.md"
                }
              ]
            }
          ]
        },
        {
          "id": "INFRA-W7",
          "title": "Prim Factory \u2014 Provider Framework",
          "parallelism": "SRL",
          "tasks": [
            {
              "id": "I-16",
              "description": "PrimProvider base interface in x402-middleware: name, init(config), healthCheck(). Each prim extends with domain methods. Document the contract.",
              "owner": [
                "Claude"
              ],
              "depends": [
                "I-8"
              ],
              "status": "done",
              "release": null,
              "plan": "tasks/completed/i-16-provider-interface.md"
            },
            {
              "id": "I-17",
              "description": "Provider registry + selection utility: config-driven vendor selection (env-based), fallback chains, health-check-on-startup. Migrate search.sh (Tavily) as proof.",
              "owner": [
                "Claude"
              ],
              "depends": [
                "I-16"
              ],
              "status": "done",
              "release": null,
              "plan": "tasks/completed/i-17-provider-registry.md"
            }
          ]
        },
        {
          "id": "INFRA-W8",
          "title": "Gate Runner — Agent Test Loop",
          "parallelism": "SRL",
          "tasks": [
            {
              "id": "I-30",
              "description": "Gate runner script: spawns isolated VPS via spawn.sh, installs prim CLI + wallet, configures infer.sh for agent reasoning, runs smoke-test-plan.json groups against live endpoints, collects pass/fail, tears down VPS. Runs locally and in CI.",
              "owner": ["Claude"],
              "depends": ["INF-6"],
              "status": "done",
              "release": null,
              "plan": "tasks/active/i-30-gate-runner.md"
            },
            {
              "id": "I-31",
              "description": "Add infer.sh test group to smoke-test-plan.json: health check, chat completion, embeddings, list models.",
              "owner": ["Claude"],
              "depends": ["INF-6"],
              "status": "done",
              "release": null,
              "plan": "tasks/active/i-30-gate-runner.md"
            },
            {
              "id": "I-32",
              "description": "CI gate workflow: on push, detect prim status changes. New prim → run gate, soft-fail (warn but don't block merge). Already-live prim → run gate, hard-fail (CI blocks). Quality gate for going live.",
              "owner": ["Claude"],
              "depends": ["I-30"],
              "status": "pending",
              "release": null,
              "plan": "tasks/active/i-30-gate-runner.md"
            },
            {
              "id": "I-33",
              "description": "gen:gate — codegen smoke-test-plan.json entries from prim.yaml routes_map. For each live prim: emit health check + one test per route (method, endpoint, expected status/shape). Manual overrides (captures, special-case notes, group prompts) stay hand-written.",
              "owner": ["Claude"],
              "depends": ["I-30"],
              "status": "done",
              "release": null
            },
            {
              "id": "I-34",
              "description": "Agent canary: --canary flag on gate-runner.ts. For each group, sends prompt + prim's llms.txt to infer.sh, agent reasons about API and makes real x402 calls, reports structured results + UX observations. Catches issues deterministic tests miss (confusing errors, missing docs, broken workflows).",
              "owner": ["Claude"],
              "depends": ["I-30"],
              "status": "done",
              "release": null,
              "plan": "tasks/active/i-30-gate-runner.md"
            }
          ]
        },
        {
          "id": "INFRA-W9",
          "title": "Deploy Automation",
          "parallelism": "SRL",
          "tasks": [
            {
              "id": "OPS-7",
              "description": "gen:deploy generator: read prim.yaml → generate systemd unit, Caddy block, env template for each live prim. All three are boilerplate that only varies by package name, port, subdomain, and env list.",
              "owner": ["Claude"],
              "depends": [],
              "status": "pending",
              "release": null
            },
            {
              "id": "OPS-8",
              "description": "Pre-deploy pricing validation: gen:prims --check should verify all route prices are parseable by x402 (numeric `$X.XX` format). Catch `$pass-through + 10%` style placeholders before they hit production.",
              "owner": ["Claude"],
              "depends": [],
              "status": "pending",
              "release": null
            },
            {
              "id": "OPS-9",
              "description": "deploy-prim.sh script: given a prim ID, handles full deploy lifecycle — create DNS A record (Cloudflare API), install systemd unit, create env file from template + secrets, reload Caddy, start service, run healthcheck.",
              "owner": ["Claude"],
              "depends": ["OPS-7"],
              "status": "pending",
              "release": null
            },
            {
              "id": "OPS-10",
              "description": "CI auto-deploy: on push to main, diff prim.yaml status changes (building→live), run deploy-prim.sh for each newly live prim. Extends OPS-5 GHA pipeline.",
              "owner": ["Claude"],
              "depends": ["OPS-5", "OPS-9"],
              "status": "pending",
              "release": null
            }
          ]
        },
        {
          "id": "INFRA-W10",
          "title": "Zero-Touch Automation",
          "parallelism": "PARA",
          "phases": [
            {
              "id": "INFRA-W10-PA",
              "title": "Factory Loop Closure",
              "parallelism": "PARA",
              "tasks": [
                {
                  "id": "I-36",
                  "description": "gen:openapi — generate OpenAPI 3.1 specs from api.ts types + prim.yaml routes_map. Closes YAML→everything loop. track/infer/imagine currently invisible to MCP/CLI/OpenAI gen.",
                  "owner": ["Claude"],
                  "depends": [],
                  "status": "pending",
                  "release": null
                },
                {
                  "id": "I-37",
                  "description": "Dynamic deploy.sh SERVICES — read prim.yaml status:live instead of hardcoded array. 4 prims (token, mem, domain, track) missing from auto-restart.",
                  "owner": ["Claude"],
                  "depends": [],
                  "status": "pending",
                  "release": null
                }
              ]
            },
            {
              "id": "INFRA-W10-PB",
              "title": "Operational Gaps",
              "parallelism": "PARA",
              "tasks": [
                {
                  "id": "OPS-11",
                  "description": "Backup all DBs — add email.db, mem.db, token.db, domain.db to backup.sh rotation. Currently only wallet, store, spawn, faucet are backed up.",
                  "owner": ["Claude"],
                  "depends": [],
                  "status": "pending",
                  "release": null
                },
                {
                  "id": "OPS-12",
                  "description": "CI strict mode — remove `continue-on-error: true` from OpenAPI validation and dependency audit jobs. Failures currently invisible.",
                  "owner": ["Claude"],
                  "depends": [],
                  "status": "pending",
                  "release": null
                },
                {
                  "id": "OPS-13",
                  "description": "Configure health alerting — set ALERT_WEBHOOK_URL in healthcheck.sh cron (Discord webhook or email). Currently monitoring runs but alerts go nowhere.",
                  "owner": ["Claude"],
                  "depends": [],
                  "status": "pending",
                  "release": null
                }
              ]
            },
            {
              "id": "INFRA-W10-PC",
              "title": "Post-Deploy Verification",
              "parallelism": "SRL",
              "tasks": [
                {
                  "id": "I-35",
                  "description": "Post-deploy health gate in CI — after deploy-vps job, poll all live service health endpoints. Fail the pipeline if any service is down. Catches bad deploys before they stick.",
                  "owner": ["Claude"],
                  "depends": ["OPS-5"],
                  "status": "pending",
                  "release": null
                }
              ]
            }
          ]
        }
      ],
      "description": "CI, tooling, observability, pricing, cross-cutting platform work."
    },
    {
      "id": "COMM",
      "title": "Community & Brand",
      "waves": [
        {
          "id": "COMM-W1",
          "title": "Brand + Social",
          "parallelism": "SRL",
          "tasks": [
            {
              "id": "L-54",
              "description": "Create Discord server: name \"Prim\", channels (#general, #bugs, #feature-requests, #announcements), permanent invite link",
              "owner": [
                "Garric"
              ],
              "depends": [],
              "status": "pending",
              "release": null
            },
            {
              "id": "L-38",
              "description": "Set brand assets on platforms: GitHub org avatar + repo social preview, X profile pic + banner, Discord icon",
              "owner": [
                "Garric"
              ],
              "depends": [
                "L-54"
              ],
              "status": "pending",
              "release": null
            },
            {
              "id": "L-55",
              "description": "Upload `final-logo.jpg` as GitHub org avatar, X @useprim profile pic, Discord server icon",
              "owner": [
                "Garric"
              ],
              "depends": [
                "L-54"
              ],
              "status": "pending",
              "release": null
            },
            {
              "id": "L-56",
              "description": "Upload `final-x-banner.jpg` as X @useprim header image",
              "owner": [
                "Garric"
              ],
              "depends": [],
              "status": "pending",
              "release": null
            },
            {
              "id": "L-57",
              "description": "Upload `final-social-preview.jpg` as GitHub repo social preview",
              "owner": [
                "Garric"
              ],
              "depends": [],
              "status": "pending",
              "release": null
            },
            {
              "id": "L-73",
              "description": "Compress favicon.png (1.2 MB → <50 KB) or regenerate optimized PNG from source artwork",
              "owner": [
                "Claude"
              ],
              "depends": [],
              "status": "done",
              "release": null
            },
            {
              "id": "L-74",
              "description": "Create SVG of >| logo mark for scalable use in badges, third-party integrations, and favicons",
              "owner": [
                "Garric"
              ],
              "depends": [],
              "status": "pending",
              "release": null
            },
            {
              "id": "L-75",
              "description": "Document GitHub repo URL convention (`primsh/prim` vs `primsh/prim.sh`) in BRAND.md handles section",
              "owner": [
                "Claude"
              ],
              "depends": [],
              "status": "done",
              "release": null
            }
          ]
        },
        {
          "id": "COMM-W2",
          "title": "Content + Features",
          "parallelism": "PARA",
          "tasks": [
            {
              "id": "L-72",
              "description": "README brand sync: `scripts/gen-readme.ts` reads `brand.ts` and rewrites tagline + one-liner sections in README.md",
              "owner": [
                "Claude"
              ],
              "depends": [],
              "status": "pending",
              "release": null
            },
            {
              "id": "L-41",
              "description": "Human docs: `prim.sh/docs` getting-started guide. Wallet setup, faucet, first API call, per-primitive examples",
              "owner": [
                "Claude"
              ],
              "depends": [],
              "status": "pending",
              "release": null
            },
            {
              "id": "L-42",
              "description": "Draft X launch content: tweet copy per teaser image, launch thread script, pin strategy",
              "owner": [
                "Garric",
                "Claude"
              ],
              "depends": [],
              "status": "pending",
              "release": null
            },
            {
              "id": "L-44",
              "description": "Access form: add optional X handle + GitHub handle fields. Store in D1 `access_requests` table",
              "owner": [
                "Claude"
              ],
              "depends": [],
              "status": "pending",
              "release": null
            },
            {
              "id": "L-45",
              "description": "Wallet ping on access approval: tiny USDC transfer with calldata `prim.sh:access:approved`",
              "owner": [
                "Claude"
              ],
              "depends": [
                "L-44"
              ],
              "status": "pending",
              "release": null
            },
            {
              "id": "L-46",
              "description": "Per-page hero color variation: accent-colored radial gradient behind hero",
              "owner": [
                "Claude"
              ],
              "depends": [],
              "status": "pending",
              "release": null
            },
            {
              "id": "COM-1",
              "description": "Add CHANGELOG.md tracking version history, breaking changes, new primitives, and security patches",
              "owner": [
                "Claude"
              ],
              "depends": [],
              "status": "done",
              "release": null
            },
            {
              "id": "COM-2",
              "description": "Add CODE_OF_CONDUCT.md (Contributor Covenant)",
              "owner": [
                "Claude"
              ],
              "depends": [],
              "status": "done",
              "release": null
            },
            {
              "id": "COM-9",
              "description": "llms.txt references `POST api.prim.sh/access/request` which returns 404. Remove or implement.",
              "owner": [
                "Claude"
              ],
              "depends": [],
              "status": "pending",
              "release": null
            }
          ]
        },
        {
          "id": "COMM-W3",
          "title": "Site",
          "phases": [
            {
              "id": "COMM-W3-PA",
              "title": "Site Polish",
              "parallelism": "PARA",
              "tasks": [
                {
                  "id": "SITE-3",
                  "description": "Fix site bugs: `.principles` missing mobile breakpoint, missing `.img-fade` on index banner, dead `.wordmark` CSS, dead `HTTP_METHODS` const, dead `.s2` class refs",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [],
                  "status": "done",
                  "release": null
                },
                {
                  "id": "SITE-4",
                  "description": "OG + Twitter Card meta tags on all pages (`index.html` + `template.ts`): `og:title`, `og:description`, `og:image`, `twitter:card`",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [],
                  "status": "done",
                  "release": null
                },
                {
                  "id": "SITE-5",
                  "description": "SEO baseline: `<meta name=\"description\">`, `theme-color`, `apple-touch-icon` on all pages",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [],
                  "status": "done",
                  "release": null
                },
                {
                  "id": "SITE-6",
                  "description": "Custom 404 page: styled with prim.css, links home",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [],
                  "status": "done",
                  "release": null
                },
                {
                  "id": "SITE-7",
                  "description": "Smooth scroll + scroll-hint anchors to first content section",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [],
                  "status": "done",
                  "release": null
                },
                {
                  "id": "SITE-8",
                  "description": "Fix `.hero` structure: sections + footer render inside hero flexbox on sub-pages",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [],
                  "status": "done",
                  "release": null
                },
                {
                  "id": "SITE-9",
                  "description": "Per-product install.sh: generator script (scripts/gen-install-scripts.ts), serve route (/<id>/install.sh), hero block replaced with install one-liner. Plan: tasks/active/site-9-per-product-install-2026-02-26.md",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [],
                  "status": "done",
                  "release": null
                }
              ]
            }
          ]
        },
        {
          "id": "COMM-W4",
          "title": "llms.txt Code Generation",
          "parallelism": "SRL",
          "phases": [
            {
              "id": "COMM-W4-PA",
              "title": "Data Annotation",
              "parallelism": "PARA",
              "tasks": [
                {
                  "id": "COM-3",
                  "description": "Add JSDoc field annotations to all api.ts interfaces (10 prims), create faucet api.ts, add missing ERROR_CODES to search + track",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [],
                  "status": "done",
                  "release": null
                },
                {
                  "id": "COM-4",
                  "description": "Add llms.txt fields to prim.yaml (quick_start, tips, limits, ownership, routes_map) + update Primitive type in primitives.ts",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [],
                  "status": "done",
                  "release": null
                }
              ]
            },
            {
              "id": "COMM-W4-PB",
              "title": "Generator",
              "parallelism": "SRL",
              "tasks": [
                {
                  "id": "COM-5",
                  "description": "Build scripts/lib/parse-api.ts \u2014 regex parser extracting interfaces, fields, JSDoc, ERROR_CODES from api.ts files",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [
                    "COM-3"
                  ],
                  "status": "done",
                  "release": null
                },
                {
                  "id": "COM-6",
                  "description": "Build scripts/lib/render-llms-txt.ts + wire into gen-prims.ts \u2014 render full llms.txt from Primitive + ParsedApi + route prices",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [
                    "COM-4",
                    "COM-5"
                  ],
                  "status": "done",
                  "release": null
                }
              ]
            },
            {
              "id": "COMM-W4-PC",
              "title": "Integration",
              "parallelism": "PARA",
              "tasks": [
                {
                  "id": "COM-7",
                  "description": "Add GET /llms.txt handler + freeRoutes to all prims; remove embedded LLMS_TXT consts from email/domain/token/mem index.ts",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [
                    "COM-6"
                  ],
                  "status": "done",
                  "release": null
                },
                {
                  "id": "COM-8",
                  "description": "Add llms.txt to gen-prims.ts --check mode; verify CI workflow runs gen:check",
                  "owner": [
                    "Claude"
                  ],
                  "depends": [
                    "COM-6"
                  ],
                  "status": "done",
                  "release": null
                }
              ]
            }
          ],
          "plan": "tasks/active/comm-w4-llms-txt-codegen-2026-02-26.md"
        },
        {
          "id": "COMM-W5",
          "title": "Pages Production Pipeline",
          "parallelism": "SRL",
          "tasks": [
            {
              "id": "SITE-10",
              "description": "Wire GHA \u2192 Cloudflare Pages: add deploy-site job (wrangler pages deploy), rename deploy\u2192deploy-vps, add verify smoke check, GitHub Environments (production). Plan: tasks/active/site-10-pages-gha-2026-02-27.md",
              "owner": [
                "Claude"
              ],
              "depends": [],
              "status": "done",
              "release": null,
              "plan": "tasks/active/site-10-pages-gha-2026-02-27.md"
            },
            {
              "id": "SITE-11",
              "description": "Remove prim-site from VPS: stop/disable systemd unit, remove Caddy prim.sh block, remove restart from deploy.sh, exclude site/ from rsync in deploy.yml + sync-vps.sh. Plan: tasks/active/site-11-prim-site-removal-2026-02-27.md",
              "owner": [
                "Claude"
              ],
              "depends": [
                "SITE-10"
              ],
              "status": "done",
              "release": null,
              "plan": "tasks/active/site-11-prim-site-removal-2026-02-27.md"
            }
          ]
        },
        {
          "id": "COMM-W6",
          "title": "OSS Package Polish",
          "parallelism": "PARA",
          "tasks": [
            {
              "id": "COM-10",
              "description": "Add metadata to root package.json: `description`, `homepage` (https://prim.sh), `keywords`, `author`",
              "owner": [
                "Claude"
              ],
              "depends": [],
              "status": "done",
              "release": null
            },
            {
              "id": "COM-14",
              "description": "Decide initial semver and bump all packages from 0.0.0 (recommend v0.1.0 for pre-stable OSS launch)",
              "owner": [
                "Garric"
              ],
              "depends": [],
              "status": "pending",
              "release": null
            }
          ]
        }
      ],
      "description": "Docs, Discord, brand assets, marketing."
    },
    {
      "id": "BKLG",
      "title": "Backlog",
      "waves": [
        {
          "id": "BKLG-W1",
          "title": "Backlog",
          "tasks": [
            {
              "id": "L-50",
              "description": "deploy.sh: PaaS above spawn.sh \u2014 push container or repo URL, get live endpoint. Wraps Dokku/Coolify",
              "owner": [
                "Claude"
              ],
              "depends": [],
              "status": "backlog",
              "release": null
            },
            {
              "id": "I-22",
              "description": "Research: tap.sh \u2014 runtime adapter registry. Agents register external APIs as prims (upstream URL + routes + API key). Prim wraps in x402/MCP/CLI automatically. No code gen, no deploy. Key questions: where does adapter config live (DB? prim.yaml?), auth scoping (who can call?), key custody, abuse prevention, discovery via search.sh. Write spec in tasks/research/.",
              "owner": [
                "Claude"
              ],
              "depends": [],
              "status": "backlog",
              "release": null
            },
            {
              "id": "I-23",
              "description": "create.sh: implement service layer for POST /v1/scaffold (returns file manifest as JSON), POST /v1/validate, GET /v1/schema, GET /v1/ports. Package already scaffolded.",
              "owner": [
                "Claude"
              ],
              "depends": [],
              "status": "done",
              "release": null
            },
            {
              "id": "I-24",
              "description": "pr.sh: GitHub PR primitive. Wraps gh API. Create/update/status/comments. Scoped to prim repo. Plan: tasks/research/agent-contribution-pipeline.md",
              "owner": [
                "Claude"
              ],
              "depends": [
                "I-23"
              ],
              "status": "backlog",
              "release": null
            },
            {
              "id": "I-25",
              "description": "issue.sh: GitHub issue primitive. Create/list/comment. Dedup via mem.sh semantic search before creating.",
              "owner": [
                "Claude"
              ],
              "depends": [],
              "status": "backlog",
              "release": null
            },
            {
              "id": "I-26",
              "description": "Agent contribution GHA: auto-test PRs that add new prims (validate schema, run scaffolder, smoke tests, spawn agent to exercise endpoints). Auto-merge if green.",
              "owner": [
                "Claude"
              ],
              "depends": [
                "I-23",
                "I-24"
              ],
              "status": "backlog",
              "release": null
            },
            {
              "id": "I-27",
              "description": "Provider key donation system: agents contribute API keys to expand provider coverage. Encrypted custody, usage tracking, health validation, credit/karma incentives.",
              "owner": [
                "Claude"
              ],
              "depends": [
                "I-22"
              ],
              "status": "backlog",
              "release": null
            },
            {
              "id": "I-28",
              "description": "Provider scaffolder: `pnpm create-provider <prim> <vendor>` generates src/<vendor>.ts implementing the prim provider interface, registers in index.ts. Reads existing src/provider.ts for the interface shape.",
              "owner": [
                "Claude"
              ],
              "depends": [],
              "status": "done",
              "release": null
            },
            {
              "id": "I-29",
              "description": "gen:docs — generates CLAUDE.md factory section, README prim table, per-package READMEs, homepage fields in package.json, shields.io badges in root README, brand copy from brand.ts SOT. Code is canonical source.",
              "owner": [
                "Claude"
              ],
              "depends": [],
              "status": "done",
              "release": null
            }
          ]
        }
      ],
      "description": "Future primitives and deferred ideas. No timeline."
    }
  ]
}
